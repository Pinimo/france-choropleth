---
title: Articles
permalink: /
---

<div id="map"></div>

<script>
var map = L.map('map').setView([46.6, 2.1], 6)
           .addLayer(new L.tileLayer('http://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png',{
              subdomains: 'abcd',
              detectRetina: true,
              minZoom: 6, maxZoom: 12 }));

function draw(file, cl,layer){
  d3.json(file, function(data){
    if (data.type === "Topology") {
      for (key in data.objects) {
        geojson = topojson.feature(data, data.objects[key]);
        layer.addLayer(new L.GeoJSON(geojson,{className: cl}));
      }
    }
  });
}

var cantons = new L.layerGroup();
draw("data/geo/topo/cantons.json","cantons",cantons);
cantons.addTo(map);

var departements = new L.layerGroup();
draw("data/geo/topo/departements.json","departements",departements);
departements.addTo(map);

map.on('zoomend', function() {
  if(map.getZoom()>6){
    d3.selectAll(".departements").style("display","none");
  }
  if(map.getZoom()<=6){
    d3.selectAll(".departements").style("display","block");
  }
});


</script>
