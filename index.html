<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Carto</title>

  <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0-beta.1/leaflet.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/awesomplete/1.0.0/awesomplete.min.js"></script>
  <link href="://cdnjs.cloudflare.com/ajax/libs/awesomplete/1.0.0/awesomplete.min.css" rel="stylesheet" />
  <link href="//cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0-beta.1/leaflet.css" rel="stylesheet" />

  <script src="/france.js"></script>
  <link href="/france.css" rel="stylesheet" />

</head>

<body>

  <h1>France-Leaflet</h1>

  <p>Leaflet map showing French <em>departements</em>, <em>cantons</em> and <em>communes</em> depending of the zoom level.</p>

  <p> Show:
    <a href="javascript: choropleth.load('second', [0,10,75,100], ['#01665e','#01665e','#e08214','#e08214'], 'Part de résidences secondaires', '%');">second homes</a>,
    <a href="javascript: choropleth.load('empty', [0,5,25], ['#045a8d','#045a8d','#e08214'], 'Logements vacants', '%');">empty houses</a>,
    <a href="javascript: choropleth.load('growth', [-1,1], ['#bd0026','#045a8d'],'Variation annuelle de la population','%','+');">population growth</a>,
    <a href="javascript: choropleth.load('unemployement', [0,5,15,20], ['#006837','#006837','#d62728','#d62728'], 'Taux de chômage', '%');">unemployement</a>.
  </p>

  <div id="map"></div>

  <script>

    var map = L.map("map",{ renderer: L.canvas( { padding: .4 }),
                            center: [46.6, 2.1],
                            zoom: 6,
                            minZoom: 1,
                            maxZoom: 9 })
                .addLayer(new L.tileLayer('https://cartodb-basemaps-b.global.ssl.fastly.net/light_nolabels/{z}/{x}/{y}.png', { subdomains: 'abcd', detectRetina: 1 }));

    var choropleth = new france(map, 'unemployement', [0,5,15,20], ['#006837','#006837','#d62728','#d62728'], 'Taux de chômage', '%');

  </script>

</body>
</html>
